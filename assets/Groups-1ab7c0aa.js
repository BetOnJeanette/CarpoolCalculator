import{_ as w,F as R,a as I,b as T,c as a,m as h,u as V,d as _,s as F,e as q,f as M,g as O,P as k,h as H,i as B,j as K,k as j,l as U,n as E,o as S,p as $,q as J,r as Q,t as W,v as X,w as Y,x as y,A as v,C as Z,y as ee,B as te,L as re}from"./index-78a3214f.js";class C{static defaultName="Default Name";static defaultGroupSize=1;id;name;peopleCount;location;constructor(t,n,i,r){[this.id,this.name,this.peopleCount,this.location]=[t,n,i,r]}GetRequestJob(t){return{id:t,description:this.name,location:this.location.GetCoordinates(),pickup:[this.peopleCount]}}}var ne={};w(ne,{Description:()=>R,ErrorMessage:()=>I,Input:()=>z,Label:()=>T,Root:()=>N,TextArea:()=>D,TextField:()=>x});var G=W();function L(){const e=X(G);if(e===void 0)throw new Error("[kobalte]: `useTextFieldContext` must be used within a `TextField` component");return e}function z(e){return a(A,h({type:"text"},e))}function A(e){const t=V(),n=L(),i=_({id:n.generateId("input")},e),[r,l,u]=F(i,["onInput"],q),{fieldProps:o}=M(l);return a(k,h({as:"input",get id(){return o.id()},get name(){return t.name()},get value(){return n.value()},get required(){return t.isRequired()},get disabled(){return t.isDisabled()},get readonly(){return t.isReadOnly()},get"aria-label"(){return o.ariaLabel()},get"aria-labelledby"(){return o.ariaLabelledBy()},get"aria-describedby"(){return o.ariaDescribedBy()},get"aria-invalid"(){return t.validationState()==="invalid"||void 0},get"aria-required"(){return t.isRequired()||void 0},get"aria-disabled"(){return t.isDisabled()||void 0},get"aria-readonly"(){return t.isReadOnly()||void 0},get onInput(){return O([r.onInput,n.onInput])}},()=>t.dataset(),u))}function N(e){let t;const n=`textfield-${H()}`,i=_({id:n},e),[r,l,u]=F(i,["ref","value","defaultValue","onChange"],B),o=r.value,[s,d]=K({value:()=>o===void 0?void 0:r.value??"",defaultValue:()=>r.defaultValue,onChange:c=>r.onChange?.(c)}),{formControlContext:f}=j(l);U(()=>t,()=>d(r.defaultValue??""));const m=c=>{if(f.isReadOnly()||f.isDisabled())return;const p=c.target;d(p.value),p.value=s()??""},P={value:s,generateId:Y(()=>S(l.id)),onInput:m};return a($.Provider,{value:f,get children(){return a(G.Provider,{value:P,get children(){return a(k,h({as:"div",ref(c){var p=E(g=>t=g,r.ref);typeof p=="function"&&p(c)},role:"group",get id(){return S(l.id)}},()=>f.dataset(),u))}})}})}function D(e){let t;const n=L(),i=_({id:n.generateId("textarea")},e),[r,l]=F(i,["ref","autoResize","submitOnEnter","onKeyPress"]);J(Q([()=>t,()=>r.autoResize,()=>n.value()],([o,s])=>{!o||!s||oe(o)}));const u=o=>{t&&r.submitOnEnter&&o.key==="Enter"&&!o.shiftKey&&t.form&&(t.form.requestSubmit(),o.preventDefault())};return a(A,h({as:"textarea",get"aria-multiline"(){return r.submitOnEnter?"false":void 0},get onKeyPress(){return O([r.onKeyPress,u])},ref(o){var s=E(d=>t=d,r.ref);typeof s=="function"&&s(o)}},l))}function oe(e){const t=e.style.alignSelf,n=e.style.overflow;"MozAppearance"in e.style||(e.style.overflow="hidden"),e.style.alignSelf="start",e.style.height="auto",e.style.height=`${e.scrollHeight+(e.offsetHeight-e.clientHeight)}px`,e.style.overflow=n,e.style.alignSelf=t}var x=Object.assign(N,{Description:R,ErrorMessage:I,Input:z,Label:T,TextArea:D});const ae="_collapsibleCard_170m8_1",se="_addressPicker_170m8_9",ie="_namePicker_170m8_13",le="_groupSize_170m8_20",ue="_groupSubmit_170m8_25",b={collapsibleCard:ae,addressPicker:se,namePicker:ie,groupSize:le,groupSubmit:ue};function de({existingData:e,key:t,onChange:n,onRemove:i}){const[r,l]=y(e?.name||C.defaultName),[u,o]=y(e?.peopleCount||C.defaultGroupSize),[s,d]=y();e!==void 0&&d(e.location);function f(){return s()!==void 0}function m(){if(f())return new C(t(),r(),u(),s())}function P(g){l(g),n(m())}function c(g){o(g),n(m())}function p(g){d(g),n(m())}return a(v.Item,{class:"collapsibleContainer",get value(){return t().toString()},get children(){return[a(v.Header,{class:"header",get children(){return a(v.Trigger,{class:"trigger",get children(){return r()}})}}),a(v.Content,{get class(){return[b.collapsibleCard,"collapsible"].join(" ")},get children(){return[a(x,{get defaultValue(){return r()||C.defaultName},onChange:P,get class(){return b.namePicker},get children(){return[a(x.Label,{class:"inputLabel",children:"Group Name"}),a(x.Input,{class:"input"})]}}),a(Z,{onChange:c,get defaultValue(){return u()},get className(){return b.groupSize},label:"Group Size"}),a(ee,{updateAddress:p,get classNames(){return b.addressPicker},get defaultText(){return s()?.label}}),a(te,{onClick:i,class:"button",children:"Remove Group"})]}})]}})}function pe({onBack:e,onSubmit:t,existingGroups:n}){return a(re,{existingData:n,onSubmit:t,addText:"Add group",onBack:e,ListElements:de})}export{pe as default};
